#!/bin/bash

NEEDS_FIX_CSV="DOMAIN,PATHNAME,url,redirectlocation,position,status_code,content_length,content_words,content_lines,content_type,resultfile
https://affiliate-signal-trickle-staging2.flink.shopifykloud.com:443,!images,https://affiliate-signal-trickle-staging2.flink.shopifykloud.com:443/!images,https://minerva.shopifycloud.com/auth/minerva?request=45d45ee8-792e-4fb1-9b0f-042e1f548372&rd=https://affiliate-signal-trickle-staging2.flink.shopifykloud.com:443%2F!images,39,302,138,3,8,text/html,
https://affiliate-signal-trickle-staging2.flink.shopifykloud.com:443,!backup,https://affiliate-signal-trickle-staging2.flink.shopifykloud.com:443/!backup,https://minerva.shopifycloud.com/auth/minerva?request=7a782321-3fa1-41e6-8840-091c9156c019&rd=https://affiliate-signal-trickle-staging2.flink.shopifykloud.com:443%2F!backup,34,302,138,3,8,text/html,
.bash_history,https://affiliate-signal-trickle-staging2.flink.shopifykloud.com:443,https://affiliate-signal-trickle-staging2.flink.shopifykloud.com:443/.bash_history,https://minerva.shopifycloud.com/auth/minerva?request=9f4c3a4a-352b-4625-ab59-cad66f965f9f&rd=https://affiliate-signal-trickle-staging2.flink.shopifykloud.com:443%2F.bash_history,59,302,138,3,8,text/html,
!ut,https://affiliate-signal-trickle-staging2.flink.shopifykloud.com:443,https://affiliate-signal-trickle-staging2.flink.shopifykloud.com:443/!ut,https://minerva.shopifycloud.com/auth/minerva?request=ccc5ca0a-3069-4c9e-95f2-5d334df94db4&rd=https://affiliate-signal-trickle-staging2.flink.shopifykloud.com:443%2F!ut,54,302,138,3,8,text/html,
https://ad-audience-production.flink.shopifykloud.com:443,!res,https://ad-audience-production.flink.shopifykloud.com:443/!res,https://minerva.shopifycloud.com/auth/minerva?request=55657634-1658-4553-93a3-46f2628f7a30&rd=https://ad-audience-production.flink.shopifykloud.com:443%2F!res,43,302,138,3,8,text/html,
!_images,https://affiliate-signal-trickle-staging2.flink.shopifykloud.com:443,https://affiliate-signal-trickle-staging2.flink.shopifykloud.com:443/!_images,https://minerva.shopifycloud.com/auth/minerva?request=03b6d943-d2da-49a1-bd82-37ac7c08e1ce&rd=https://affiliate-signal-trickle-staging2.flink.shopifykloud.com:443%2F!_images,29,302,138,3,8,text/html,
!_archives,https://affiliate-signal-trickle-staging2.flink.shopifykloud.com:443,https://affiliate-signal-trickle-staging2.flink.shopifykloud.com:443/!_archives,https://minerva.shopifycloud.com/auth/minerva?request=9f07d9be-c8cf-4617-bb09-46bff7b5ba37&rd=https://affiliate-signal-trickle-staging2.flink.shopifykloud.com:443%2F!_archives,24,302,138,3,8,text/html,
https://ad-audience-production.flink.shopifykloud.com:443,.bashrc,https://ad-audience-production.flink.shopifykloud.com:443/.bashrc,https://minerva.shopifycloud.com/auth/minerva?request=27f9701e-4d44-4cc3-981e-005f2d6ca338&rd=https://ad-audience-production.flink.shopifykloud.com:443%2F.bashrc,63,302,138,3,8,text/html,
https://ad-audience-production.flink.shopifykloud.com:443,!ut,https://ad-audience-production.flink.shopifykloud.com:443/!ut,https://minerva.shopifycloud.com/auth/minerva?request=e697668b-bb86-4fc0-9ea6-02877e7405c5&rd=https://ad-audience-production.flink.shopifykloud.com:443%2F!ut,53,302,138,3,8,text/html,
https://affiliate-signal-trickle-staging2.flink.shopifykloud.com:443,ghi,https://affiliate-signal-trickle-staging2.flink.shopifykloud.com:443/ghi,https://minerva.shopifycloud.com/auth/minerva?request=62eeb644-694b-499e-8e30-9e211adbccfe&rd=https://affiliate-signal-trickle-staging2.flink.shopifykloud.com:443%2Fghi,14,302,138,3,8,text/html,
https://ad-audience-production.flink.shopifykloud.com:443,ghi,https://ad-audience-production.flink.shopifykloud.com:443/ghi,https://minerva.shopifycloud.com/auth/minerva?request=8e2dafa9-99de-4321-bdc8-fb0d373f193d&rd=https://ad-audience-production.flink.shopifykloud.com:443%2Fghi,13,302,138,3,8,text/html,
https://affiliate-signal-trickle-staging2.flink.shopifykloud.com:443,!res,https://affiliate-signal-trickle-staging2.flink.shopifykloud.com:443/!res,https://minerva.shopifycloud.com/auth/minerva?request=aca15bef-98b0-4c06-94bc-39244c19303a&rd=https://affiliate-signal-trickle-staging2.flink.shopifykloud.com:443%2F!res,44,302,138,3,8,text/html,
https://ad-audience-production.flink.shopifykloud.com:443,.bash_history,https://ad-audience-production.flink.shopifykloud.com:443/.bash_history,https://minerva.shopifycloud.com/auth/minerva?request=dacec6d3-1714-4cc0-bc08-5dfdb215d151&rd=https://ad-audience-production.flink.shopifykloud.com:443%2F.bash_history,58,302,138,3,8,text/html,
https://affiliate-signal-trickle-staging2.flink.shopifykloud.com:443,!textove_diskuse,https://affiliate-signal-trickle-staging2.flink.shopifykloud.com:443/!textove_diskuse,https://minerva.shopifycloud.com/auth/minerva?request=4924e74e-fed9-43d1-ac73-6e7d2c5c945b&rd=https://affiliate-signal-trickle-staging2.flink.shopifykloud.com:443%2F!textove_diskuse,49,302,138,3,8,text/html,
https://affiliate-signal-trickle-staging2.flink.shopifykloud.com:443,.bashrc,https://affiliate-signal-trickle-staging2.flink.shopifykloud.com:443/.bashrc,https://minerva.shopifycloud.com/auth/minerva?request=66f2f10f-d928-41b1-8578-ac678e5020f5&rd=https://affiliate-signal-trickle-staging2.flink.shopifykloud.com:443%2F.bashrc,64,302,138,3,8,text/html,
https://affiliate-signal-trickle-staging2.flink.shopifykloud.com:443,!,https://affiliate-signal-trickle-staging2.flink.shopifykloud.com:443/!,https://minerva.shopifycloud.com/auth/minerva?request=fa01c607-f684-4cbc-84a1-a18c89da4e00&rd=https://affiliate-signal-trickle-staging2.flink.shopifykloud.com:443%2F!,19,302,138,3,8,text/html,
https://affiliate-signal-trickle-staging2.flink.shopifykloud.com:443,def,https://affiliate-signal-trickle-staging2.flink.shopifykloud.com:443/def,https://minerva.shopifycloud.com/auth/minerva?request=401a89c8-3256-4e3b-8e6b-c41db507598f&rd=https://affiliate-signal-trickle-staging2.flink.shopifykloud.com:443%2Fdef,9,302,138,3,8,text/html,
https://affiliate-signal-trickle-staging2.flink.shopifykloud.com:443,abc,https://affiliate-signal-trickle-staging2.flink.shopifykloud.com:443/abc,https://minerva.shopifycloud.com/auth/minerva?request=45178e4f-afff-4e3d-aaa1-93baf9ae2ddd&rd=https://affiliate-signal-trickle-staging2.flink.shopifykloud.com:443%2Fabc,4,302,138,3,8,text/html,
!,https://ad-audience-production.flink.shopifykloud.com:443,https://ad-audience-production.flink.shopifykloud.com:443/!,https://minerva.shopifycloud.com/auth/minerva?request=3ec9e770-2907-41c7-8c15-5d63b266423b&rd=https://ad-audience-production.flink.shopifykloud.com:443%2F!,18,302,138,3,8,text/html,
https://ad-audience-production.flink.shopifykloud.com:443,!textove_diskuse,https://ad-audience-production.flink.shopifykloud.com:443/!textove_diskuse,https://minerva.shopifycloud.com/auth/minerva?request=c343c4f4-2ada-4a55-b0ca-052c5149c0ed&rd=https://ad-audience-production.flink.shopifykloud.com:443%2F!textove_diskuse,48,302,138,3,8,text/html,
https://ad-audience-production.flink.shopifykloud.com:443,!_archives,https://ad-audience-production.flink.shopifykloud.com:443/!_archives,https://minerva.shopifycloud.com/auth/minerva?request=6e4b7688-c668-40ea-9fee-55fcdcdf6d70&rd=https://ad-audience-production.flink.shopifykloud.com:443%2F!_archives,23,302,138,3,8,text/html,
https://ad-audience-production.flink.shopifykloud.com:443,!backup,https://ad-audience-production.flink.shopifykloud.com:443/!backup,https://minerva.shopifycloud.com/auth/minerva?request=074a61b5-87e5-480b-b78e-4586e3b4cc7b&rd=https://ad-audience-production.flink.shopifykloud.com:443%2F!backup,33,302,138,3,8,text/html,
https://ad-audience-production.flink.shopifykloud.com:443,def,https://ad-audience-production.flink.shopifykloud.com:443/def,https://minerva.shopifycloud.com/auth/minerva?request=1b9cdef1-00b6-4666-bdcd-db7c7b3c3700&rd=https://ad-audience-production.flink.shopifykloud.com:443%2Fdef,8,302,138,3,8,text/html,
https://ad-audience-production.flink.shopifykloud.com:443,abc,https://ad-audience-production.flink.shopifykloud.com:443/abc,https://minerva.shopifycloud.com/auth/minerva?request=8782ccd2-42aa-48ff-8820-a1e6b7d1c4d6&rd=https://ad-audience-production.flink.shopifykloud.com:443%2Fabc,3,302,138,3,8,text/html,
https://ad-audience-production.flink.shopifykloud.com:443,!_images,https://ad-audience-production.flink.shopifykloud.com:443/!_images,https://minerva.shopifycloud.com/auth/minerva?request=f160e39c-81da-40b9-ab10-66be30999704&rd=https://ad-audience-production.flink.shopifykloud.com:443%2F!_images,28,302,138,3,8,text/html,
https://ad-audience-production.flink.shopifykloud.com:443,!images,https://ad-audience-production.flink.shopifykloud.com:443/!images,https://minerva.shopifycloud.com/auth/minerva?request=56aa4036-acfc-4ed4-8fdd-5b261d7086ef&rd=https://ad-audience-production.flink.shopifykloud.com:443%2F!images,38,302,138,3,8,text/html,"

EXPECTED="domain,pathname,url,redirectlocation,position,status_code,content_length,content_words,content_lines,content_type,resultfile
https://affiliate-signal-trickle-staging2.flink.shopifykloud.com,!images,https://affiliate-signal-trickle-staging2.flink.shopifykloud.com:443/!images,https://minerva.shopifycloud.com/auth/minerva?request=45d45ee8-792e-4fb1-9b0f-042e1f548372&rd=https://affiliate-signal-trickle-staging2.flink.shopifykloud.com:443%2F!images,39,302,138,3,8,text/html,
https://affiliate-signal-trickle-staging2.flink.shopifykloud.com,!backup,https://affiliate-signal-trickle-staging2.flink.shopifykloud.com:443/!backup,https://minerva.shopifycloud.com/auth/minerva?request=7a782321-3fa1-41e6-8840-091c9156c019&rd=https://affiliate-signal-trickle-staging2.flink.shopifykloud.com:443%2F!backup,34,302,138,3,8,text/html,
https://affiliate-signal-trickle-staging2.flink.shopifykloud.com,.bash_history,https://affiliate-signal-trickle-staging2.flink.shopifykloud.com:443/.bash_history,https://minerva.shopifycloud.com/auth/minerva?request=9f4c3a4a-352b-4625-ab59-cad66f965f9f&rd=https://affiliate-signal-trickle-staging2.flink.shopifykloud.com:443%2F.bash_history,59,302,138,3,8,text/html,
https://affiliate-signal-trickle-staging2.flink.shopifykloud.com,!ut,https://affiliate-signal-trickle-staging2.flink.shopifykloud.com:443/!ut,https://minerva.shopifycloud.com/auth/minerva?request=ccc5ca0a-3069-4c9e-95f2-5d334df94db4&rd=https://affiliate-signal-trickle-staging2.flink.shopifykloud.com:443%2F!ut,54,302,138,3,8,text/html,
https://ad-audience-production.flink.shopifykloud.com,!res,https://ad-audience-production.flink.shopifykloud.com:443/!res,https://minerva.shopifycloud.com/auth/minerva?request=55657634-1658-4553-93a3-46f2628f7a30&rd=https://ad-audience-production.flink.shopifykloud.com:443%2F!res,43,302,138,3,8,text/html,
https://affiliate-signal-trickle-staging2.flink.shopifykloud.com,!_images,https://affiliate-signal-trickle-staging2.flink.shopifykloud.com:443/!_images,https://minerva.shopifycloud.com/auth/minerva?request=03b6d943-d2da-49a1-bd82-37ac7c08e1ce&rd=https://affiliate-signal-trickle-staging2.flink.shopifykloud.com:443%2F!_images,29,302,138,3,8,text/html,
https://affiliate-signal-trickle-staging2.flink.shopifykloud.com,!_archives,https://affiliate-signal-trickle-staging2.flink.shopifykloud.com:443/!_archives,https://minerva.shopifycloud.com/auth/minerva?request=9f07d9be-c8cf-4617-bb09-46bff7b5ba37&rd=https://affiliate-signal-trickle-staging2.flink.shopifykloud.com:443%2F!_archives,24,302,138,3,8,text/html,
https://ad-audience-production.flink.shopifykloud.com,.bashrc,https://ad-audience-production.flink.shopifykloud.com:443/.bashrc,https://minerva.shopifycloud.com/auth/minerva?request=27f9701e-4d44-4cc3-981e-005f2d6ca338&rd=https://ad-audience-production.flink.shopifykloud.com:443%2F.bashrc,63,302,138,3,8,text/html,
https://ad-audience-production.flink.shopifykloud.com,!ut,https://ad-audience-production.flink.shopifykloud.com:443/!ut,https://minerva.shopifycloud.com/auth/minerva?request=e697668b-bb86-4fc0-9ea6-02877e7405c5&rd=https://ad-audience-production.flink.shopifykloud.com:443%2F!ut,53,302,138,3,8,text/html,
https://affiliate-signal-trickle-staging2.flink.shopifykloud.com,ghi,https://affiliate-signal-trickle-staging2.flink.shopifykloud.com:443/ghi,https://minerva.shopifycloud.com/auth/minerva?request=62eeb644-694b-499e-8e30-9e211adbccfe&rd=https://affiliate-signal-trickle-staging2.flink.shopifykloud.com:443%2Fghi,14,302,138,3,8,text/html,
https://ad-audience-production.flink.shopifykloud.com,ghi,https://ad-audience-production.flink.shopifykloud.com:443/ghi,https://minerva.shopifycloud.com/auth/minerva?request=8e2dafa9-99de-4321-bdc8-fb0d373f193d&rd=https://ad-audience-production.flink.shopifykloud.com:443%2Fghi,13,302,138,3,8,text/html,
https://affiliate-signal-trickle-staging2.flink.shopifykloud.com,!res,https://affiliate-signal-trickle-staging2.flink.shopifykloud.com:443/!res,https://minerva.shopifycloud.com/auth/minerva?request=aca15bef-98b0-4c06-94bc-39244c19303a&rd=https://affiliate-signal-trickle-staging2.flink.shopifykloud.com:443%2F!res,44,302,138,3,8,text/html,
https://ad-audience-production.flink.shopifykloud.com,.bash_history,https://ad-audience-production.flink.shopifykloud.com:443/.bash_history,https://minerva.shopifycloud.com/auth/minerva?request=dacec6d3-1714-4cc0-bc08-5dfdb215d151&rd=https://ad-audience-production.flink.shopifykloud.com:443%2F.bash_history,58,302,138,3,8,text/html,
https://affiliate-signal-trickle-staging2.flink.shopifykloud.com,!textove_diskuse,https://affiliate-signal-trickle-staging2.flink.shopifykloud.com:443/!textove_diskuse,https://minerva.shopifycloud.com/auth/minerva?request=4924e74e-fed9-43d1-ac73-6e7d2c5c945b&rd=https://affiliate-signal-trickle-staging2.flink.shopifykloud.com:443%2F!textove_diskuse,49,302,138,3,8,text/html,
https://affiliate-signal-trickle-staging2.flink.shopifykloud.com,.bashrc,https://affiliate-signal-trickle-staging2.flink.shopifykloud.com:443/.bashrc,https://minerva.shopifycloud.com/auth/minerva?request=66f2f10f-d928-41b1-8578-ac678e5020f5&rd=https://affiliate-signal-trickle-staging2.flink.shopifykloud.com:443%2F.bashrc,64,302,138,3,8,text/html,
https://affiliate-signal-trickle-staging2.flink.shopifykloud.com,!,https://affiliate-signal-trickle-staging2.flink.shopifykloud.com:443/!,https://minerva.shopifycloud.com/auth/minerva?request=fa01c607-f684-4cbc-84a1-a18c89da4e00&rd=https://affiliate-signal-trickle-staging2.flink.shopifykloud.com:443%2F!,19,302,138,3,8,text/html,
https://affiliate-signal-trickle-staging2.flink.shopifykloud.com,def,https://affiliate-signal-trickle-staging2.flink.shopifykloud.com:443/def,https://minerva.shopifycloud.com/auth/minerva?request=401a89c8-3256-4e3b-8e6b-c41db507598f&rd=https://affiliate-signal-trickle-staging2.flink.shopifykloud.com:443%2Fdef,9,302,138,3,8,text/html,
https://affiliate-signal-trickle-staging2.flink.shopifykloud.com,abc,https://affiliate-signal-trickle-staging2.flink.shopifykloud.com:443/abc,https://minerva.shopifycloud.com/auth/minerva?request=45178e4f-afff-4e3d-aaa1-93baf9ae2ddd&rd=https://affiliate-signal-trickle-staging2.flink.shopifykloud.com:443%2Fabc,4,302,138,3,8,text/html,
https://ad-audience-production.flink.shopifykloud.com,!,https://ad-audience-production.flink.shopifykloud.com:443/!,https://minerva.shopifycloud.com/auth/minerva?request=3ec9e770-2907-41c7-8c15-5d63b266423b&rd=https://ad-audience-production.flink.shopifykloud.com:443%2F!,18,302,138,3,8,text/html,
https://ad-audience-production.flink.shopifykloud.com,!textove_diskuse,https://ad-audience-production.flink.shopifykloud.com:443/!textove_diskuse,https://minerva.shopifycloud.com/auth/minerva?request=c343c4f4-2ada-4a55-b0ca-052c5149c0ed&rd=https://ad-audience-production.flink.shopifykloud.com:443%2F!textove_diskuse,48,302,138,3,8,text/html,
https://ad-audience-production.flink.shopifykloud.com,!_archives,https://ad-audience-production.flink.shopifykloud.com:443/!_archives,https://minerva.shopifycloud.com/auth/minerva?request=6e4b7688-c668-40ea-9fee-55fcdcdf6d70&rd=https://ad-audience-production.flink.shopifykloud.com:443%2F!_archives,23,302,138,3,8,text/html,
https://ad-audience-production.flink.shopifykloud.com,!backup,https://ad-audience-production.flink.shopifykloud.com:443/!backup,https://minerva.shopifycloud.com/auth/minerva?request=074a61b5-87e5-480b-b78e-4586e3b4cc7b&rd=https://ad-audience-production.flink.shopifykloud.com:443%2F!backup,33,302,138,3,8,text/html,
https://ad-audience-production.flink.shopifykloud.com,def,https://ad-audience-production.flink.shopifykloud.com:443/def,https://minerva.shopifycloud.com/auth/minerva?request=1b9cdef1-00b6-4666-bdcd-db7c7b3c3700&rd=https://ad-audience-production.flink.shopifykloud.com:443%2Fdef,8,302,138,3,8,text/html,
https://ad-audience-production.flink.shopifykloud.com,abc,https://ad-audience-production.flink.shopifykloud.com:443/abc,https://minerva.shopifycloud.com/auth/minerva?request=8782ccd2-42aa-48ff-8820-a1e6b7d1c4d6&rd=https://ad-audience-production.flink.shopifykloud.com:443%2Fabc,3,302,138,3,8,text/html,
https://ad-audience-production.flink.shopifykloud.com,!_images,https://ad-audience-production.flink.shopifykloud.com:443/!_images,https://minerva.shopifycloud.com/auth/minerva?request=f160e39c-81da-40b9-ab10-66be30999704&rd=https://ad-audience-production.flink.shopifykloud.com:443%2F!_images,28,302,138,3,8,text/html,
https://ad-audience-production.flink.shopifykloud.com,!images,https://ad-audience-production.flink.shopifykloud.com:443/!images,https://minerva.shopifycloud.com/auth/minerva?request=56aa4036-acfc-4ed4-8fdd-5b261d7086ef&rd=https://ad-audience-production.flink.shopifykloud.com:443%2F!images,38,302,138,3,8,text/html,"

EXPECTED="domain,pathname,url,redirectlocation,position,status_code,content_length,content_words,content_lines,content_type,resultfile
https://affiliate-signal-trickle-staging2.flink.shopifykloud.com,!images,https://affiliate-signal-trickle-staging2.flink.shopifykloud.com:443/!images,https://minerva.shopifycloud.com/auth/minerva?request=45d45ee8-792e-4fb1-9b0f-042e1f548372&rd=https://affiliate-signal-trickle-staging2.flink.shopifykloud.com:443%2F!images,39,302,138,3,8,text/html,
https://affiliate-signal-trickle-staging2.flink.shopifykloud.com,!backup,https://affiliate-signal-trickle-staging2.flink.shopifykloud.com:443/!backup,https://minerva.shopifycloud.com/auth/minerva?request=7a782321-3fa1-41e6-8840-091c9156c019&rd=https://affiliate-signal-trickle-staging2.flink.shopifykloud.com:443%2F!backup,34,302,138,3,8,text/html,
https://affiliate-signal-trickle-staging2.flink.shopifykloud.com,.bash_history,https://affiliate-signal-trickle-staging2.flink.shopifykloud.com:443/.bash_history,https://minerva.shopifycloud.com/auth/minerva?request=9f4c3a4a-352b-4625-ab59-cad66f965f9f&rd=https://affiliate-signal-trickle-staging2.flink.shopifykloud.com:443%2F.bash_history,59,302,138,3,8,text/html,
https://affiliate-signal-trickle-staging2.flink.shopifykloud.com,!ut,https://affiliate-signal-trickle-staging2.flink.shopifykloud.com:443/!ut,https://minerva.shopifycloud.com/auth/minerva?request=ccc5ca0a-3069-4c9e-95f2-5d334df94db4&rd=https://affiliate-signal-trickle-staging2.flink.shopifykloud.com:443%2F!ut,54,302,138,3,8,text/html,
https://ad-audience-production.flink.shopifykloud.com,!res,https://ad-audience-production.flink.shopifykloud.com:443/!res,https://minerva.shopifycloud.com/auth/minerva?request=55657634-1658-4553-93a3-46f2628f7a30&rd=https://ad-audience-production.flink.shopifykloud.com:443%2F!res,43,302,138,3,8,text/html,
https://affiliate-signal-trickle-staging2.flink.shopifykloud.com,!_images,https://affiliate-signal-trickle-staging2.flink.shopifykloud.com:443/!_images,https://minerva.shopifycloud.com/auth/minerva?request=03b6d943-d2da-49a1-bd82-37ac7c08e1ce&rd=https://affiliate-signal-trickle-staging2.flink.shopifykloud.com:443%2F!_images,29,302,138,3,8,text/html,
https://affiliate-signal-trickle-staging2.flink.shopifykloud.com,!_archives,https://affiliate-signal-trickle-staging2.flink.shopifykloud.com:443/!_archives,https://minerva.shopifycloud.com/auth/minerva?request=9f07d9be-c8cf-4617-bb09-46bff7b5ba37&rd=https://affiliate-signal-trickle-staging2.flink.shopifykloud.com:443%2F!_archives,24,302,138,3,8,text/html,
https://ad-audience-production.flink.shopifykloud.com,.bashrc,https://ad-audience-production.flink.shopifykloud.com:443/.bashrc,https://minerva.shopifycloud.com/auth/minerva?request=27f9701e-4d44-4cc3-981e-005f2d6ca338&rd=https://ad-audience-production.flink.shopifykloud.com:443%2F.bashrc,63,302,138,3,8,text/html,
https://ad-audience-production.flink.shopifykloud.com,!ut,https://ad-audience-production.flink.shopifykloud.com:443/!ut,https://minerva.shopifycloud.com/auth/minerva?request=e697668b-bb86-4fc0-9ea6-02877e7405c5&rd=https://ad-audience-production.flink.shopifykloud.com:443%2F!ut,53,302,138,3,8,text/html,
https://affiliate-signal-trickle-staging2.flink.shopifykloud.com,ghi,https://affiliate-signal-trickle-staging2.flink.shopifykloud.com:443/ghi,https://minerva.shopifycloud.com/auth/minerva?request=62eeb644-694b-499e-8e30-9e211adbccfe&rd=https://affiliate-signal-trickle-staging2.flink.shopifykloud.com:443%2Fghi,14,302,138,3,8,text/html,
https://ad-audience-production.flink.shopifykloud.com,ghi,https://ad-audience-production.flink.shopifykloud.com:443/ghi,https://minerva.shopifycloud.com/auth/minerva?request=8e2dafa9-99de-4321-bdc8-fb0d373f193d&rd=https://ad-audience-production.flink.shopifykloud.com:443%2Fghi,13,302,138,3,8,text/html,
https://affiliate-signal-trickle-staging2.flink.shopifykloud.com,!res,https://affiliate-signal-trickle-staging2.flink.shopifykloud.com:443/!res,https://minerva.shopifycloud.com/auth/minerva?request=aca15bef-98b0-4c06-94bc-39244c19303a&rd=https://affiliate-signal-trickle-staging2.flink.shopifykloud.com:443%2F!res,44,302,138,3,8,text/html,
https://ad-audience-production.flink.shopifykloud.com,.bash_history,https://ad-audience-production.flink.shopifykloud.com:443/.bash_history,https://minerva.shopifycloud.com/auth/minerva?request=dacec6d3-1714-4cc0-bc08-5dfdb215d151&rd=https://ad-audience-production.flink.shopifykloud.com:443%2F.bash_history,58,302,138,3,8,text/html,
https://affiliate-signal-trickle-staging2.flink.shopifykloud.com,!textove_diskuse,https://affiliate-signal-trickle-staging2.flink.shopifykloud.com:443/!textove_diskuse,https://minerva.shopifycloud.com/auth/minerva?request=4924e74e-fed9-43d1-ac73-6e7d2c5c945b&rd=https://affiliate-signal-trickle-staging2.flink.shopifykloud.com:443%2F!textove_diskuse,49,302,138,3,8,text/html,
https://affiliate-signal-trickle-staging2.flink.shopifykloud.com,.bashrc,https://affiliate-signal-trickle-staging2.flink.shopifykloud.com:443/.bashrc,https://minerva.shopifycloud.com/auth/minerva?request=66f2f10f-d928-41b1-8578-ac678e5020f5&rd=https://affiliate-signal-trickle-staging2.flink.shopifykloud.com:443%2F.bashrc,64,302,138,3,8,text/html,
https://affiliate-signal-trickle-staging2.flink.shopifykloud.com,!,https://affiliate-signal-trickle-staging2.flink.shopifykloud.com:443/!,https://minerva.shopifycloud.com/auth/minerva?request=fa01c607-f684-4cbc-84a1-a18c89da4e00&rd=https://affiliate-signal-trickle-staging2.flink.shopifykloud.com:443%2F!,19,302,138,3,8,text/html,
https://affiliate-signal-trickle-staging2.flink.shopifykloud.com,def,https://affiliate-signal-trickle-staging2.flink.shopifykloud.com:443/def,https://minerva.shopifycloud.com/auth/minerva?request=401a89c8-3256-4e3b-8e6b-c41db507598f&rd=https://affiliate-signal-trickle-staging2.flink.shopifykloud.com:443%2Fdef,9,302,138,3,8,text/html,
https://affiliate-signal-trickle-staging2.flink.shopifykloud.com,abc,https://affiliate-signal-trickle-staging2.flink.shopifykloud.com:443/abc,https://minerva.shopifycloud.com/auth/minerva?request=45178e4f-afff-4e3d-aaa1-93baf9ae2ddd&rd=https://affiliate-signal-trickle-staging2.flink.shopifykloud.com:443%2Fabc,4,302,138,3,8,text/html,
https://ad-audience-production.flink.shopifykloud.com,!,https://ad-audience-production.flink.shopifykloud.com:443/!,https://minerva.shopifycloud.com/auth/minerva?request=3ec9e770-2907-41c7-8c15-5d63b266423b&rd=https://ad-audience-production.flink.shopifykloud.com:443%2F!,18,302,138,3,8,text/html,
https://ad-audience-production.flink.shopifykloud.com,!textove_diskuse,https://ad-audience-production.flink.shopifykloud.com:443/!textove_diskuse,https://minerva.shopifycloud.com/auth/minerva?request=c343c4f4-2ada-4a55-b0ca-052c5149c0ed&rd=https://ad-audience-production.flink.shopifykloud.com:443%2F!textove_diskuse,48,302,138,3,8,text/html,
https://ad-audience-production.flink.shopifykloud.com,!_archives,https://ad-audience-production.flink.shopifykloud.com:443/!_archives,https://minerva.shopifycloud.com/auth/minerva?request=6e4b7688-c668-40ea-9fee-55fcdcdf6d70&rd=https://ad-audience-production.flink.shopifykloud.com:443%2F!_archives,23,302,138,3,8,text/html,
https://ad-audience-production.flink.shopifykloud.com,!backup,https://ad-audience-production.flink.shopifykloud.com:443/!backup,https://minerva.shopifycloud.com/auth/minerva?request=074a61b5-87e5-480b-b78e-4586e3b4cc7b&rd=https://ad-audience-production.flink.shopifykloud.com:443%2F!backup,33,302,138,3,8,text/html,
https://ad-audience-production.flink.shopifykloud.com,def,https://ad-audience-production.flink.shopifykloud.com:443/def,https://minerva.shopifycloud.com/auth/minerva?request=1b9cdef1-00b6-4666-bdcd-db7c7b3c3700&rd=https://ad-audience-production.flink.shopifykloud.com:443%2Fdef,8,302,138,3,8,text/html,
https://ad-audience-production.flink.shopifykloud.com,abc,https://ad-audience-production.flink.shopifykloud.com:443/abc,https://minerva.shopifycloud.com/auth/minerva?request=8782ccd2-42aa-48ff-8820-a1e6b7d1c4d6&rd=https://ad-audience-production.flink.shopifykloud.com:443%2Fabc,3,302,138,3,8,text/html,
https://ad-audience-production.flink.shopifykloud.com,!_images,https://ad-audience-production.flink.shopifykloud.com:443/!_images,https://minerva.shopifycloud.com/auth/minerva?request=f160e39c-81da-40b9-ab10-66be30999704&rd=https://ad-audience-production.flink.shopifykloud.com:443%2F!_images,28,302,138,3,8,text/html,
https://ad-audience-production.flink.shopifykloud.com,!images,https://ad-audience-production.flink.shopifykloud.com:443/!images,https://minerva.shopifycloud.com/auth/minerva?request=56aa4036-acfc-4ed4-8fdd-5b261d7086ef&rd=https://ad-audience-production.flink.shopifykloud.com:443%2F!images,38,302,138,3,8,text/html,"

ACTUAL=""

TMP_INPUT_FILE="$(openssl rand -hex 5).csv"
TMP_OUTPUT_FILE="$(openssl rand -hex 5).csv"

function cleanup {
  echo "[+] Removing tmp files before exit"
  rm -rf "${TMP_INPUT_FILE}" 2>/dev/null
  rm -rf "${TMP_OUTPUT_FILE}" 2>/dev/null
}

trap cleanup EXIT
touch "${TMP_INPUT_FILE}"
echo -n "${NEEDS_FIX_CSV}" > "${TMP_INPUT_FILE}" 

source ../atm-monkeypatch-ffuf-csv-output.sh -i "${TMP_INPUT_FILE}" -o "${TMP_OUTPUT_FILE}"

ACTUAL=$(cat "${TMP_OUTPUT_FILE}" | sed s/\s//g | awk NF)
EXPECTED=$(echo -n "${EXPECTED}" | sed s/\s//g | awk NF)

rm -rf "${TMP_INPUT_FILE}" 
rm -rf "${TMP_OUTPUT_FILE}"

if [ "${EXPECTED}" == "${ACTUAL}" ]; then
    echo "[!] Test successful. Expeted == Actual"
    exit 0
else
    echo "[!] Test failed. Expeted != Actual"
    exit 1
fi